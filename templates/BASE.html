{# TODO: use &LSQUO; ? Correct semantically?
<!--
  BASE TEMPLATE
  -------------
  This has some variables:
    * title     - replace title
    * extraHead - append css, etc.
    * extraBody - append scripts
    * header    - (optional: replace header nav)
    * topAttention - jumbotron media
    * body      - main body contents
    * footer    - (TODO)
-->
#}<!DOCTYPE html>
<html lang="en">
  <head>
	<!-- 
      Web Design and Scripting
      Copyright (c) 2013 Brandon Thomas <bt@brand.io>
      See more at http://brand.io
      Some background images from SubtlePatterns.com
	-->
    <meta name="viewport" 
          content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>{% block title %}iSchool{% endblock %}</title>

    <!-- TODO: Final version: Compile all of this! -->
    <link href="/static/css/yui-reset.css" rel="stylesheet">
    <link href="/static/css/font-awesome.min.css" rel="stylesheet">

    {% if config.DEV_MACHINE %}
        <link href="/static/less/main.less{{ cache_buster() }}" 
              rel="stylesheet/less">
    {% else %}
        <link href="/static/design.out.css" rel="stylesheet">
    {% endif %}

    <link href="/static/img/favicon.png" rel="shortcut icon">
    
    {% block extraHead %}{% endblock %}

  </head>
  <body>
    <div id="main" 
         class="{% block pageClass %}TemplatePage{% endblock %}">
      {% block header %}
        <!-- Replaces topAttention -->
      {% endblock header %}

      {% block nav %}
      <div id="topnavwrap">
        <nav id="topnav">
          <a href="/"{% if pageName == 'IndexPage' %} 
             class="cur"{% endif %}>Home</a>
          <a href="/about"{% if pageName == 'AboutPage' %} 
             class="cur"{% endif %}>About</a>
          <a href="/tour"{% if pageName == 'TourPage' %} 
             class="cur"{% endif %}>Tour</a>
          <a href="/pd"{% if pageName == 'PdPage' %} 
             class="cur"{% endif %}>Learning</a>
          <!--<a href="/blog">Blog</a>-->
        </nav>
      </div>
      {% endblock nav %}

      <section>
      {% block body %}
        <!-- Body content -->
      {% endblock %}
      </section>

      <footer>
        <nav id="footernav">
          <a href="/">Home</a> | 
          <a href="/about">About</a> | 
          <a href="/tour">Tour</a> | 
          <a href="/pd">Training</a> <!-- |
          <a href="/blog">Blog</a>  -->
        </nav>

        <div id="contactBit">
          <ul>
            <li>
              <div id="contact">
                <div>
                  <a href="mailto:info@ischoolinitiative.com">
                  <b><i class="icon-envelope-alt"></i></b>
                    info@ischoolinitiative.com</a>
                </div>
                <div>
                  <a href="tel:+17706566323">
                    <b><i class="icon-phone"></i></b>
                    770&ndash;656&ndash;6323
                    </a>
                </div>
                <div>
                  <b><i class="icon-th-large"></i></b>
                  iSchool Initiative &copy; 2013 
                </div>

                {% if config.DEV_MACHINE %}
                  <div id="dev-responsive">
                    <span id="dev-responsive-smartphone-portrait">
                      <b><i class="icon-mobile-phone"></i></b>
                      <span class="text">Responsive Mode:
                        Smartphone Portrait</span>
                    </span>
                    <span id="dev-responsive-smartphone-landscape">
                      <b><i class="icon-mobile-phone"></i></b>
                      <span class="text">Responsive Mode:
                      Smartphone Landscape</span>
                    </span>
                    <span id="dev-responsive-tablet-portrait">
                      <b><i class="icon-tablet"></i></b>
                      <span class="text">Responsive Mode:
                      Tablet Portrait</span>
                    </span>
                    <span id="dev-responsive-tablet-landscape">
                      <b><i class="icon-tablet"></i></b>
                      <span class="text">Responsive Mode:
                      Tablet Landscape</span>
                    </span>
                    <span id="dev-responsive-desktop-regular">
                      <b><i class="icon-laptop"></i></b>
                      <span class="text">Responsive Mode:
                      Desktop Regular</span>
                    </span>
                    <span id="dev-responsive-desktop-huge">
                      <b><i class="icon-desktop"></i></b>
                      <span class="text">Responsive Mode:
                      Desktop Huge</span>
                    </span>
                  </div>
                {% endif %}
              </div>
            </li>
            <li>
              <!-- Social icons from http://picons.me/ -->
              <div id="social">
                <a href="http://www.facebook.com/iSchoolInitiative"><img 
                  src="/static/img/icons/facebook-picons2.png"></a>
                <a href="https://twitter.com/iSchoolAdvocate"><img 
                  src="/static/img/icons/twitter-picons2.png"></a>
              </div>
            </li>
          </ul>
        </div>
      </footer>
      {% block todo %}{% endblock todo %}
    </div>
    {%if config.DEV_MACHINE %}
      <script type="text/javascript">
          less = {
              env: "development",
              async: false,
              fileAsync: false,
              poll: 1000,
              functions: {},
              dumpLineNumbers: "comments",
              relativeUrls: false,
          };
      </script>
      <script src="/static/js/lib/less.min.js"></script>
    {% endif %}
    <script src="/static/js/lib/jquery.js"></script>
    <script src="/static/js/lib/jquery.easing.js"></script>
    <script src="/static/js/lib/jquery.smooth-scroll.min.js"></script>
    <script src="/static/js/lib/underscore-min.js"></script>
    <script src="/static/js/lib/backbone-min.js"></script>

    <script src="/static/js/main.js{{ cache_buster() }}"></script>
    <script src="/static/js/dev.js{{ cache_buster() }}"></script>
    <script type="text/javascript">
      install_nav();
      {% if config.DEV_MACHINE %}install_dev_mode();{% endif %}
    </script>
    {% block extraBody %}{% endblock %}
  </body>
</html>
